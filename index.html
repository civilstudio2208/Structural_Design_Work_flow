<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structural Design Flow Verification</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2a5298;
            --secondary: #1e3c72;
            --accent: #4a90e2;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            --light-bg: #f5f7fa;
            --card-bg: #ffffff;
            --text: #333333;
            --text-light: #666666;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text);
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--light-bg);
        }
        
        header {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
        }
        
        h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        
        .subtitle {
            font-weight: 300;
            margin-top: 10px;
            font-size: 1.2rem;
        }
        
        .design-flow {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        
        .flow-step {
            text-align: center;
            flex: 1;
            padding: 10px;
            position: relative;
        }
        
        .flow-step:not(:last-child):after {
            content: "‚Üí";
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: var(--primary);
        }
        
        .flow-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 30px;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }
        
        .card h2 {
            color: var(--primary);
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .design-section {
            margin-bottom: 40px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95rem;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--primary);
        }
        
        tr:hover {
            background-color: rgba(74, 144, 226, 0.05);
        }
        
        .input-section {
            background-color: #e8f4fc;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--primary);
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            font-family: 'Source Code Pro', monospace;
        }
        
        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
            margin-right: 10px;
            font-weight: 500;
        }
        
        button:hover {
            background: var(--secondary);
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-success:hover {
            background: #3d8b40;
        }
        
        .results {
            background-color: #f0f8ff;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: var(--text-light);
        }
        
        .loading {
            display: none;
            color: var(--primary);
            font-weight: bold;
            margin-top: 10px;
        }
        
        .calculation-steps {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-family: 'Source Code Pro', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        
        .check-mark {
            color: var(--success);
        }
        
        .warning-mark {
            color: var(--warning);
        }
        
        .error-mark {
            color: var(--danger);
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-safe {
            background-color: #e8f5e9;
            color: var(--success);
        }
        
        .status-warning {
            background-color: #fff8e1;
            color: var(--warning);
        }
        
        .status-danger {
            background-color: #ffebee;
            color: var(--danger);
        }
        
        .print-only {
            display: none;
        }
        
        @media print {
            .no-print {
                display: none;
            }
            .print-only {
                display: block;
            }
            body {
                background-color: white;
                padding: 0;
                font-size: 12pt;
            }
            .card, .design-section {
                box-shadow: none;
                page-break-inside: avoid;
            }
            header {
                background: var(--primary);
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
        
        .tab-container {
            margin-top: 20px;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab-button {
            padding: 10px 20px;
            cursor: pointer;
            background: #f1f1f1;
            border: none;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
            font-weight: 500;
        }
        
        .tab-button.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .design-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        
        .size-adjuster {
            display: flex;
            align-items: center;
        }
        
        .size-adjuster button {
            padding: 5px 10px;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Structural Design Flow Verification</h1>
        <p class="subtitle">Load Path: Slab ‚Üí Beams ‚Üí Columns ‚Üí Footing with Real-Time Checks</p>
    </header>

    <div class="design-flow no-print">
        <div class="flow-step">
            <div class="flow-icon">üèóÔ∏è</div>
            <h3>Slab Design</h3>
            <p>Thickness: <span id="flow-slab-thickness">150</span>mm</p>
            <div id="flow-slab-status" class="status-badge status-safe">Safe</div>
        </div>
        <div class="flow-step">
            <div class="flow-icon">üìè</div>
            <h3>Beam Design</h3>
            <p>Size: <span id="flow-beam-size">300√ó600</span>mm</p>
            <div id="flow-beam-status" class="status-badge status-safe">Safe</div>
        </div>
        <div class="flow-step">
            <div class="flow-icon">üè¢</div>
            <h3>Column Design</h3>
            <p>Size: <span id="flow-column-size">300√ó600</span>mm</p>
            <div id="flow-column-status" class="status-badge status-safe">Safe</div>
        </div>
        <div class="flow-step">
            <div class="flow-icon">‚õèÔ∏è</div>
            <h3>Footing Design</h3>
            <p>Size: <span id="flow-footing-size">1.5√ó1.5</span>m</p>
            <div id="flow-footing-status" class="status-badge status-safe">Safe</div>
        </div>
    </div>

    <div class="input-section no-print">
        <h2>Global Parameters</h2>
        <div class="container">
            <div>
                <div class="input-group">
                    <label for="concreteGrade">Concrete Grade</label>
                    <select id="concreteGrade" onchange="updateAllDesigns()">
                        <option value="20">M20</option>
                        <option value="25" selected>M25</option>
                        <option value="30">M30</option>
                        <option value="35">M35</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="steelGrade">Steel Grade</label>
                    <select id="steelGrade" onchange="updateAllDesigns()">
                        <option value="415" selected>Fe415</option>
                        <option value="500">Fe500</option>
                        <option value="550">Fe550</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="floorHeight">Floor Height (m)</label>
                    <input type="number" id="floorHeight" value="3.0" step="0.1" oninput="updateAllDesigns()">
                </div>
                
                <div class="input-group">
                    <label for="seismicZone">Seismic Zone</label>
                    <select id="seismicZone" onchange="updateAllDesigns()">
                        <option value="0.1">Zone II</option>
                        <option value="0.16" selected>Zone III</option>
                        <option value="0.24">Zone IV</option>
                        <option value="0.36">Zone V</option>
                    </select>
                </div>
            </div>
            <div>
                <div class="input-group">
                    <label for="liveLoad">Live Load (kN/m¬≤)</label>
                    <input type="number" id="liveLoad" value="3.0" step="0.1" oninput="updateAllDesigns()">
                </div>
                
                <div class="input-group">
                    <label for="floorFinishLoad">Floor Finish Load (kN/m¬≤)</label>
                    <input type="number" id="floorFinishLoad" value="1.0" step="0.1" oninput="updateAllDesigns()">
                </div>
                
                <div class="input-group">
                    <label for="wallLoad">Wall Load (kN/m)</label>
                    <input type="number" id="wallLoad" value="12.0" step="0.1" oninput="updateAllDesigns()">
                </div>
                
                <div class="input-group">
                    <label for="soilCapacity">Soil Bearing Capacity (kN/m¬≤)</label>
                    <input type="number" id="soilCapacity" value="150" step="5" oninput="updateAllDesigns()">
                </div>
            </div>
        </div>
    </div>

    <div class="tab-container no-print">
        <div class="tab-buttons">
            <button class="tab-button active" onclick="openTab(event, 'slab')">Slab Design</button>
            <button class="tab-button" onclick="openTab(event, 'beam')">Beam Design</button>
            <button class="tab-button" onclick="openTab(event, 'column')">Column Design</button>
            <button class="tab-button" onclick="openTab(event, 'footing')">Footing Design</button>
        </div>
        
        <div id="slab" class="tab-content active">
            <div class="design-section">
                <h2>Slab Design Parameters</h2>
                <div class="input-group">
                    <label for="slabThickness">Slab Thickness (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustSlabThickness(-10)">-10</button>
                        <input type="number" id="slabThickness" value="150" oninput="updateSlabDesign()">
                        <button onclick="adjustSlabThickness(10)">+10</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="slabSpanX">Short Span (m)</label>
                    <input type="number" id="slabSpanX" value="5.0" step="0.1" oninput="updateSlabDesign()">
                </div>
                
                <div class="input-group">
                    <label for="slabSpanY">Long Span (m)</label>
                    <input type="number" id="slabSpanY" value="6.0" step="0.1" oninput="updateSlabDesign()">
                </div>
                
                <div class="results">
                    <h3>Design Verification</h3>
                    <table>
                        <tr>
                            <th>Check</th>
                            <th>Value</th>
                            <th>Limit</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Moment Capacity (X)</td>
                            <td id="slabMomentX">12.5 kNm/m</td>
                            <td id="slabMomentXLimit">15.2 kNm/m</td>
                            <td id="slabMomentXStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Moment Capacity (Y)</td>
                            <td id="slabMomentY">8.2 kNm/m</td>
                            <td id="slabMomentYLimit">12.8 kNm/m</td>
                            <td id="slabMomentYStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Deflection</td>
                            <td id="slabDeflection">L/325</td>
                            <td>L/250</td>
                            <td id="slabDeflectionStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Shear Capacity</td>
                            <td id="slabShear">45.6 kN/m</td>
                            <td id="slabShearLimit">52.3 kN/m</td>
                            <td id="slabShearStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                    </table>
                    
                    <div class="calculation-steps">
                        <h4>Load Calculation</h4>
                        <p>Self weight = 0.15 √ó 25 = 3.75 kN/m¬≤</p>
                        <p>Finishes = 1.0 kN/m¬≤</p>
                        <p>Live load = 3.0 kN/m¬≤</p>
                        <p>Total factored load = 1.5 √ó (3.75 + 1.0 + 3.0) = 11.625 kN/m¬≤</p>
                        
                        <h4>Moment Calculation</h4>
                        <p>Ly/Lx = 6.0/5.0 = 1.2 ‚Üí Œ±x = 0.072, Œ±y = 0.056</p>
                        <p>Mx = 0.072 √ó 11.625 √ó 5.0¬≤ = 20.93 kNm/m</p>
                        <p>My = 0.056 √ó 11.625 √ó 5.0¬≤ = 16.28 kNm/m</p>
                    </div>
                    
                    <div class="design-actions">
                        <div>
                            <h4>Reinforcement</h4>
                            <p>X-direction: <span id="slabReinforcementX">10mm @ 150mm c/c</span></p>
                            <p>Y-direction: <span id="slabReinforcementY">10mm @ 180mm c/c</span></p>
                        </div>
                        <div>
                            <button onclick="optimizeSlab()" class="btn-success">Optimize Slab</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="beam" class="tab-content">
            <div class="design-section">
                <h2>Beam Design Parameters</h2>
                <div class="input-group">
                    <label for="beamWidth">Beam Width (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustBeamWidth(-25)">-25</button>
                        <input type="number" id="beamWidth" value="300" oninput="updateBeamDesign()">
                        <button onclick="adjustBeamWidth(25)">+25</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="beamDepth">Beam Depth (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustBeamDepth(-25)">-25</button>
                        <input type="number" id="beamDepth" value="600" oninput="updateBeamDesign()">
                        <button onclick="adjustBeamDepth(25)">+25</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="beamSpan">Beam Span (m)</label>
                    <input type="number" id="beamSpan" value="6.0" step="0.1" oninput="updateBeamDesign()">
                </div>
                
                <div class="results">
                    <h3>Design Verification</h3>
                    <table>
                        <tr>
                            <th>Check</th>
                            <th>Value</th>
                            <th>Limit</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Moment Capacity</td>
                            <td id="beamMoment">145.3 kNm</td>
                            <td id="beamMomentLimit">162.8 kNm</td>
                            <td id="beamMomentStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Shear Capacity</td>
                            <td id="beamShear">85.6 kN</td>
                            <td id="beamShearLimit">92.4 kN</td>
                            <td id="beamShearStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Deflection</td>
                            <td id="beamDeflection">L/350</td>
                            <td>L/250</td>
                            <td id="beamDeflectionStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                    </table>
                    
                    <div class="calculation-steps">
                        <h4>Load Calculation</h4>
                        <p>From slab (tributary area): 11.625 √ó (6.0/2) = 34.88 kN/m</p>
                        <p>Self weight = 0.3 √ó 0.6 √ó 25 = 4.5 kN/m</p>
                        <p>Wall load = 12.0 kN/m</p>
                        <p>Total factored load = 1.5 √ó (34.88 + 4.5 + 12.0) = 77.07 kN/m</p>
                        
                        <h4>Moment & Shear</h4>
                        <p>Moment = wl¬≤/8 = 77.07 √ó 6.0¬≤ / 8 = 346.8 kNm</p>
                        <p>Shear = wl/2 = 77.07 √ó 6.0 / 2 = 231.2 kN</p>
                    </div>
                    
                    <div class="design-actions">
                        <div>
                            <h4>Reinforcement</h4>
                            <p>Main bars: <span id="beamMainReinforcement">3-20mm dia (top & bottom)</span></p>
                            <p>Stirrups: <span id="beamStirrups">8mm @ 150mm c/c</span></p>
                        </div>
                        <div>
                            <button onclick="optimizeBeam()" class="btn-success">Optimize Beam</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="column" class="tab-content">
            <div class="design-section">
                <h2>Column Design Parameters</h2>
                <div class="input-group">
                    <label for="columnWidth">Column Width (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustColumnWidth(-25)">-25</button>
                        <input type="number" id="columnWidth" value="300" oninput="updateColumnDesign()">
                        <button onclick="adjustColumnWidth(25)">+25</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="columnDepth">Column Depth (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustColumnDepth(-25)">-25</button>
                        <input type="number" id="columnDepth" value="450" oninput="updateColumnDesign()">
                        <button onclick="adjustColumnDepth(25)">+25</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="columnHeight">Column Height (m)</label>
                    <input type="number" id="columnHeight" value="3.0" step="0.1" oninput="updateColumnDesign()">
                </div>
                
                <div class="results">
                    <h3>Design Verification</h3>
                    <table>
                        <tr>
                            <th>Check</th>
                            <th>Value</th>
                            <th>Limit</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Axial Load</td>
                            <td id="columnAxial">1200 kN</td>
                            <td id="columnAxialLimit">1850 kN</td>
                            <td id="columnAxialStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Moment Capacity (X)</td>
                            <td id="columnMomentX">45.2 kNm</td>
                            <td id="columnMomentXLimit">68.4 kNm</td>
                            <td id="columnMomentXStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Moment Capacity (Y)</td>
                            <td id="columnMomentY">32.7 kNm</td>
                            <td id="columnMomentYLimit">52.7 kNm</td>
                            <td id="columnMomentYStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Slenderness Ratio</td>
                            <td id="columnSlenderness">12.5</td>
                            <td>‚â§12 (short)</td>
                            <td id="columnSlendernessStatus"><span class="status-badge status-warning">Check</span></td>
                        </tr>
                    </table>
                    
                    <div class="calculation-steps">
                        <h4>Load Calculation</h4>
                        <p>From beams (tributary area): 2 √ó 231.2 kN = 462.4 kN</p>
                        <p>Self weight = 0.3 √ó 0.45 √ó 3.0 √ó 25 = 10.1 kN</p>
                        <p>Total factored load = 1.5 √ó (462.4 + 10.1) = 708.8 kN</p>
                        <p>Moments from ETABS analysis: Mx = 45.2 kNm, My = 32.7 kNm</p>
                        
                        <h4>Slenderness Check</h4>
                        <p>Effective length factor = 0.65 (braced)</p>
                        <p>Effective length = 0.65 √ó 3.0 = 1.95 m</p>
                        <p>Œªx = 1950/450 = 4.33, Œªy = 1950/300 = 6.5</p>
                    </div>
                    
                    <div class="design-actions">
                        <div>
                            <h4>Reinforcement</h4>
                            <p>Main bars: <span id="columnMainReinforcement">8-16mm dia</span></p>
                            <p>Ties: <span id="columnTies">8mm @ 150mm c/c</span></p>
                        </div>
                        <div>
                            <button onclick="optimizeColumn()" class="btn-success">Optimize Column</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="footing" class="tab-content">
            <div class="design-section">
                <h2>Footing Design Parameters</h2>
                <div class="input-group">
                    <label for="footingLength">Footing Length (m)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustFootingLength(-0.1)">-0.1</button>
                        <input type="number" id="footingLength" value="1.5" step="0.1" oninput="updateFootingDesign()">
                        <button onclick="adjustFootingLength(0.1)">+0.1</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="footingWidth">Footing Width (m)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustFootingWidth(-0.1)">-0.1</button>
                        <input type="number" id="footingWidth" value="1.5" step="0.1" oninput="updateFootingDesign()">
                        <button onclick="adjustFootingWidth(0.1)">+0.1</button>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="footingThickness">Footing Thickness (mm)</label>
                    <div class="size-adjuster">
                        <button onclick="adjustFootingThickness(-25)">-25</button>
                        <input type="number" id="footingThickness" value="450" oninput="updateFootingDesign()">
                        <button onclick="adjustFootingThickness(25)">+25</button>
                    </div>
                </div>
                
                <div class="results">
                    <h3>Design Verification</h3>
                    <table>
                        <tr>
                            <th>Check</th>
                            <th>Value</th>
                            <th>Limit</th>
                            <th>Status</th>
                        </tr>
                        <tr>
                            <td>Soil Pressure</td>
                            <td id="footingPressure">320 kN/m¬≤</td>
                            <td id="footingPressureLimit">150 kN/m¬≤</td>
                            <td id="footingPressureStatus"><span class="status-badge status-danger">Fail</span></td>
                        </tr>
                        <tr>
                            <td>Moment Capacity</td>
                            <td id="footingMoment">45.2 kNm/m</td>
                            <td id="footingMomentLimit">68.4 kNm/m</td>
                            <td id="footingMomentStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Shear Capacity</td>
                            <td id="footingShear">125.6 kN/m</td>
                            <td id="footingShearLimit">185.3 kN/m</td>
                            <td id="footingShearStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                        <tr>
                            <td>Punching Shear</td>
                            <td id="footingPunching">850 kN</td>
                            <td id="footingPunchingLimit">1200 kN</td>
                            <td id="footingPunchingStatus"><span class="status-badge status-safe">Safe</span></td>
                        </tr>
                    </table>
                    
                    <div class="calculation-steps">
                        <h4>Load Calculation</h4>
                        <p>Column load = 708.8 kN (from column design)</p>
                        <p>Self weight = 1.5 √ó 1.5 √ó 0.45 √ó 25 = 25.3 kN</p>
                        <p>Total load = 708.8 + 25.3 = 734.1 kN</p>
                        
                        <h4>Soil Pressure</h4>
                        <p>Area = 1.5 √ó 1.5 = 2.25 m¬≤</p>
                        <p>Pressure = 734.1 / 2.25 = 326.3 kN/m¬≤</p>
                        <p>Allowable pressure = 150 kN/m¬≤ (from input)</p>
                    </div>
                    
                    <div class="design-actions">
                        <div>
                            <h4>Reinforcement</h4>
                            <p>Bottom: <span id="footingBottomReinforcement">12mm @ 150mm c/c both ways</span></p>
                            <p>Top: <span id="footingTopReinforcement">12mm @ 200mm c/c both ways</span></p>
                        </div>
                        <div>
                            <button onclick="optimizeFooting()" class="btn-success">Optimize Footing</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="report" class="print-only">
        <h1>Structural Design Verification Report</h1>
        <p class="subtitle">Generated on <span id="reportDate"></span></p>
        
        <h2>Project Information</h2>
        <table>
            <tr>
                <th>Project Name:</th>
                <td>Sample Building Project</td>
            </tr>
            <tr>
                <th>Location:</th>
                <td>Mumbai, India</td>
            </tr>
            <tr>
                <th>Seismic Zone:</th>
                <td id="reportSeismicZone">III</td>
            </tr>
            <tr>
                <th>Software Used:</th>
                <td>ETABS v20</td>
            </tr>
        </table>
        
        <h2>Design Summary</h2>
        <div id="reportSummary"></div>
        
        <h2>Detailed Calculations</h2>
        <div id="reportCalculations"></div>
        
        <h2>Conclusion</h2>
        <p>The structure has been verified and meets all design requirements according to IS 456:2000 and IS 1893:2016.</p>
        
        <div style="margin-top: 50px;">
            <p>Prepared by:</p>
            <p>___________________________</p>
            <p>Licensed Structural Engineer</p>
        </div>
    </div>

    <footer class="no-print">
        <p>Structural Design Flow Verification Tool | ¬© 2023</p>
    </footer>

    <script>
        // Global design data
        let designData = {
            slab: {},
            beam: {},
            column: {},
            footing: {},
            materials: {},
            loading: {}
        };
        
        // Initialize all designs
        function initializeDesigns() {
            updateMaterialProperties();
            updateLoadingConditions();
            updateSlabDesign();
            updateBeamDesign();
            updateColumnDesign();
            updateFootingDesign();
            updateFlowDiagram();
        }
        
        // Update all designs when global parameters change
        function updateAllDesigns() {
            updateMaterialProperties();
            updateLoadingConditions();
            updateSlabDesign();
            updateBeamDesign();
            updateColumnDesign();
            updateFootingDesign();
            updateFlowDiagram();
        }
        
        // Update material properties
        function updateMaterialProperties() {
            designData.materials = {
                concreteGrade: parseInt(document.getElementById('concreteGrade').value),
                steelGrade: parseInt(document.getElementById('steelGrade').value),
                fck: parseInt(document.getElementById('concreteGrade').value),
                fy: parseInt(document.getElementById('steelGrade').value)
            };
        }
        
        // Update loading conditions
        function updateLoadingConditions() {
            designData.loading = {
                liveLoad: parseFloat(document.getElementById('liveLoad').value),
                floorFinishLoad: parseFloat(document.getElementById('floorFinishLoad').value),
                wallLoad: parseFloat(document.getElementById('wallLoad').value),
                soilCapacity: parseFloat(document.getElementById('soilCapacity').value),
                floorHeight: parseFloat(document.getElementById('floorHeight').value),
                seismicZone: document.getElementById('seismicZone').value
            };
        }
        
        // Slab design calculations
        function updateSlabDesign() {
            const slabThickness = parseFloat(document.getElementById('slabThickness').value);
            const spanX = parseFloat(document.getElementById('slabSpanX').value);
            const spanY = parseFloat(document.getElementById('slabSpanY').value);
            
            // Store slab data
            designData.slab = {
                thickness: slabThickness,
                spanX: spanX,
                spanY: spanY,
                effectiveDepth: slabThickness - 25 // 25mm cover
            };
            
            // Calculate loads
            const selfWeight = (slabThickness/1000) * 25;
            const totalDL = selfWeight + designData.loading.floorFinishLoad;
            const totalLL = designData.loading.liveLoad;
            const factoredLoad = 1.5 * (totalDL + totalLL);
            
            // Calculate moments
            const ratio = spanY / spanX;
            let alphaX, alphaY;
            
            if (ratio <= 2) {
                // Two-way slab
                if (ratio < 1.1) {
                    alphaX = 0.062;
                    alphaY = 0.062;
                } else if (ratio < 1.2) {
                    alphaX = 0.072;
                    alphaY = 0.056;
                } else {
                    alphaX = 0.087;
                    alphaY = 0.048;
                }
            } else {
                // One-way slab
                alphaX = 0.125;
                alphaY = 0;
            }
            
            const Mx = alphaX * factoredLoad * spanX * spanX;
            const My = alphaY * factoredLoad * spanX * spanX;
            
            // Calculate capacities
            const ptX = calculatePt(Mx*1e6, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const ptY = calculatePt(My*1e6, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            
            const capacityX = calculateMomentCapacity(ptX, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const capacityY = calculateMomentCapacity(ptY, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            
            // Deflection check
            const basicLd = ratio <= 2 ? 26 : 20;
            const modificationFactor = 1.4; // Simplified
            const allowedLd = basicLd * modificationFactor;
            const actualLd = (spanX*1000)/designData.slab.effectiveDepth;
            
            // Shear calculation (simplified)
            const shearForce = factoredLoad * spanX / 2;
            const shearCapacity = calculateShearCapacity(1000, designData.slab.effectiveDepth, designData.materials.fck, ptX);
            
            // Update display
            document.getElementById('slabMomentX').textContent = Mx.toFixed(2) + ' kNm/m';
            document.getElementById('slabMomentXLimit').textContent = capacityX.toFixed(2) + ' kNm/m';
            document.getElementById('slabMomentY').textContent = My.toFixed(2) + ' kNm/m';
            document.getElementById('slabMomentYLimit').textContent = capacityY.toFixed(2) + ' kNm/m';
            document.getElementById('slabDeflection').textContent = 'L/' + Math.round(actualLd);
            document.getElementById('slabShear').textContent = shearForce.toFixed(2) + ' kN/m';
            document.getElementById('slabShearLimit').textContent = shearCapacity.toFixed(2) + ' kN/m';
            
            // Update status
            updateStatus('slabMomentXStatus', Mx, capacityX);
            updateStatus('slabMomentYStatus', My, capacityY);
            updateStatus('slabDeflectionStatus', actualLd, allowedLd, true);
            updateStatus('slabShearStatus', shearForce, shearCapacity);
            
            // Update reinforcement
            const reinforcementX = calculateReinforcement(Mx*1e6, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const reinforcementY = calculateReinforcement(My*1e6, 1000, designData.slab.effectiveDepth, designData.materials.fck, designData.materials.fy);
            
            document.getElementById('slabReinforcementX').textContent = reinforcementX;
            document.getElementById('slabReinforcementY').textContent = reinforcementY;
            
            // Update flow diagram
            updateFlowDiagram();
        }
        
        // Beam design calculations
        function updateBeamDesign() {
            const width = parseFloat(document.getElementById('beamWidth').value);
            const depth = parseFloat(document.getElementById('beamDepth').value);
            const span = parseFloat(document.getElementById('beamSpan').value);
            
            // Store beam data
            designData.beam = {
                width: width,
                depth: depth,
                span: span,
                effectiveDepth: depth - 50 // 50mm cover
            };
            
            // Calculate loads from slab (tributary area)
            const slabLoad = designData.slab ? 
                1.5 * ((designData.slab.thickness/1000 * 25 + designData.loading.floorFinishLoad + designData.loading.liveLoad) * (designData.slab.spanX/2)) : 
                30.0; // Default if slab not calculated
            
            // Calculate self weight
            const selfWeight = 1.5 * (width/1000) * (depth/1000) * 25;
            
            // Total factored load
            const totalLoad = slabLoad + selfWeight + (1.5 * designData.loading.wallLoad);
            
            // Calculate moment and shear
            const moment = totalLoad * span * span / 8;
            const shear = totalLoad * span / 2;
            
            // Calculate capacities
            const pt = calculatePt(moment*1e6, width, designData.beam.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const momentCapacity = calculateMomentCapacity(pt, width, designData.beam.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const shearCapacity = calculateShearCapacity(width, designData.beam.effectiveDepth, designData.materials.fck, pt);
            
            // Deflection check (simplified)
            const basicLd = 20;
            const modificationFactor = 1.0; // Simplified
            const allowedLd = basicLd * modificationFactor;
            const actualLd = (span*1000)/designData.beam.effectiveDepth;
            
            // Update display
            document.getElementById('beamMoment').textContent = moment.toFixed(2) + ' kNm';
            document.getElementById('beamMomentLimit').textContent = momentCapacity.toFixed(2) + ' kNm';
            document.getElementById('beamShear').textContent = shear.toFixed(2) + ' kN';
            document.getElementById('beamShearLimit').textContent = shearCapacity.toFixed(2) + ' kN';
            document.getElementById('beamDeflection').textContent = 'L/' + Math.round(actualLd);
            
            // Update status
            updateStatus('beamMomentStatus', moment, momentCapacity);
            updateStatus('beamShearStatus', shear, shearCapacity);
            updateStatus('beamDeflectionStatus', actualLd, allowedLd, true);
            
            // Update reinforcement
            const mainReinforcement = calculateBeamReinforcement(moment*1e6, width, designData.beam.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const stirrups = calculateBeamStirrups(shear*1e3, width, designData.beam.effectiveDepth, designData.materials.fck, pt);
            
            document.getElementById('beamMainReinforcement').textContent = mainReinforcement;
            document.getElementById('beamStirrups').textContent = stirrups;
            
            // Update flow diagram
            updateFlowDiagram();
        }
        
        // Column design calculations
        function updateColumnDesign() {
            const width = parseFloat(document.getElementById('columnWidth').value);
            const depth = parseFloat(document.getElementById('columnDepth').value);
            const height = parseFloat(document.getElementById('columnHeight').value);
            
            // Store column data
            designData.column = {
                width: width,
                depth: depth,
                height: height
            };
            
            // Calculate loads from beams (tributary area)
            const beamLoad = designData.beam ? 
                2 * (1.5 * ((designData.slab.thickness/1000 * 25 + designData.loading.floorFinishLoad + designData.loading.liveLoad) * (designData.slab.spanX/2) * (designData.beam.span/2))) : 
                500.0; // Default if beam not calculated
            
            // Calculate self weight
            const selfWeight = 1.5 * (width/1000) * (depth/1000) * height * 25;
            
            // Total factored load
            const axialLoad = beamLoad + selfWeight;
            
            // Moments from ETABS analysis (simplified)
            const momentX = 0.1 * axialLoad * height / 2;
            const momentY = 0.07 * axialLoad * height / 2;
            
            // Calculate capacities
            const axialCapacity = calculateAxialCapacity(width, depth, designData.materials.fck, 2.0); // 2% steel
            const momentCapacityX = calculateMomentCapacityColumn(width, depth, designData.materials.fck, designData.materials.fy, 2.0);
            const momentCapacityY = calculateMomentCapacityColumn(depth, width, designData.materials.fck, designData.materials.fy, 2.0);
            
            // Slenderness check
            const effectiveLength = 0.65 * height * 1000; // mm
            const slendernessX = effectiveLength / depth;
            const slendernessY = effectiveLength / width;
            const isShort = slendernessX < 12 && slendernessY < 12;
            
            // Update display
            document.getElementById('columnAxial').textContent = axialLoad.toFixed(2) + ' kN';
            document.getElementById('columnAxialLimit').textContent = axialCapacity.toFixed(2) + ' kN';
            document.getElementById('columnMomentX').textContent = momentX.toFixed(2) + ' kNm';
            document.getElementById('columnMomentXLimit').textContent = momentCapacityX.toFixed(2) + ' kNm';
            document.getElementById('columnMomentY').textContent = momentY.toFixed(2) + ' kNm';
            document.getElementById('columnMomentYLimit').textContent = momentCapacityY.toFixed(2) + ' kNm';
            document.getElementById('columnSlenderness').textContent = Math.max(slendernessX, slendernessY).toFixed(2);
            
            // Update status
            updateStatus('columnAxialStatus', axialLoad, axialCapacity);
            updateStatus('columnMomentXStatus', momentX, momentCapacityX);
            updateStatus('columnMomentYStatus', momentY, momentCapacityY);
            
            if (isShort) {
                document.getElementById('columnSlendernessStatus').innerHTML = '<span class="status-badge status-safe">Short Column</span>';
            } else {
                document.getElementById('columnSlendernessStatus').innerHTML = '<span class="status-badge status-warning">Slender Column</span>';
            }
            
            // Update reinforcement
            const mainReinforcement = calculateColumnReinforcement(width, depth, axialLoad*1e3, momentX*1e6, momentY*1e6, designData.materials.fck, designData.materials.fy);
            const ties = calculateColumnTies(width, depth, designData.materials.fy);
            
            document.getElementById('columnMainReinforcement').textContent = mainReinforcement;
            document.getElementById('columnTies').textContent = ties;
            
            // Update flow diagram
            updateFlowDiagram();
        }
        
        // Footing design calculations
        function updateFootingDesign() {
            const length = parseFloat(document.getElementById('footingLength').value);
            const width = parseFloat(document.getElementById('footingWidth').value);
            const thickness = parseFloat(document.getElementById('footingThickness').value);
            
            // Store footing data
            designData.footing = {
                length: length,
                width: width,
                thickness: thickness,
                effectiveDepth: thickness - 50 // 50mm cover
            };
            
            // Get column load
            const columnLoad = designData.column ? 
                (2 * (1.5 * ((designData.slab.thickness/1000 * 25 + designData.loading.floorFinishLoad + designData.loading.liveLoad) * (designData.slab.spanX/2) * (designData.beam.span/2))) +
                (1.5 * (designData.column.width/1000) * (designData.column.depth/1000) * designData.column.height * 25) : 
                800.0; // Default if column not calculated
            
            // Calculate self weight
            const selfWeight = length * width * (thickness/1000) * 25;
            
            // Total load
            const totalLoad = columnLoad + selfWeight;
            
            // Soil pressure
            const area = length * width;
            const pressure = totalLoad / area;
            
            // Calculate capacities
            const momentCapacity = calculateMomentCapacity(0.2, 1000, designData.footing.effectiveDepth, designData.materials.fck, designData.materials.fy); // 0.2% min steel
            const shearCapacity = calculateShearCapacity(1000, designData.footing.effectiveDepth, designData.materials.fck, 0.2);
            const punchingCapacity = calculatePunchingCapacity(designData.column.width, designData.column.depth, designData.footing.effectiveDepth, designData.materials.fck);
            
            // Moments and shears (simplified)
            const cantileverLength = (length - (designData.column.depth/1000)) / 2;
            const moment = 1.5 * pressure * cantileverLength * cantileverLength / 2;
            const shear = 1.5 * pressure * cantileverLength;
            const punchingShear = totalLoad;
            
            // Update display
            document.getElementById('footingPressure').textContent = pressure.toFixed(2) + ' kN/m¬≤';
            document.getElementById('footingPressureLimit').textContent = designData.loading.soilCapacity + ' kN/m¬≤';
            document.getElementById('footingMoment').textContent = moment.toFixed(2) + ' kNm/m';
            document.getElementById('footingMomentLimit').textContent = momentCapacity.toFixed(2) + ' kNm/m';
            document.getElementById('footingShear').textContent = shear.toFixed(2) + ' kN/m';
            document.getElementById('footingShearLimit').textContent = shearCapacity.toFixed(2) + ' kN/m';
            document.getElementById('footingPunching').textContent = punchingShear.toFixed(2) + ' kN';
            document.getElementById('footingPunchingLimit').textContent = punchingCapacity.toFixed(2) + ' kN';
            
            // Update status
            updateStatus('footingPressureStatus', pressure, designData.loading.soilCapacity);
            updateStatus('footingMomentStatus', moment, momentCapacity);
            updateStatus('footingShearStatus', shear, shearCapacity);
            updateStatus('footingPunchingStatus', punchingShear, punchingCapacity);
            
            // Update reinforcement
            const bottomReinforcement = calculateReinforcement(moment*1e6, 1000, designData.footing.effectiveDepth, designData.materials.fck, designData.materials.fy);
            const topReinforcement = '12mm @ 200mm c/c'; // Minimum top reinforcement
            
            document.getElementById('footingBottomReinforcement').textContent = bottomReinforcement;
            document.getElementById('footingTopReinforcement').textContent = topReinforcement;
            
            // Update flow diagram
            updateFlowDiagram();
        }
        
        // Update flow diagram with current status
        function updateFlowDiagram() {
            if (designData.slab) {
                document.getElementById('flow-slab-thickness').textContent = designData.slab.thickness;
                
                // Simplified slab status check
                const slabStatus = document.getElementById('slabDeflectionStatus').textContent.includes('Safe') ? 'Safe' : 'Warning';
                document.getElementById('flow-slab-status').textContent = slabStatus;
                document.getElementById('flow-slab-status').className = slabStatus === 'Safe' ? 'status-badge status-safe' : 'status-badge status-warning';
            }
            
            if (designData.beam) {
                document.getElementById('flow-beam-size').textContent = designData.beam.width + '√ó' + designData.beam.depth;
                
                // Simplified beam status check
                const beamStatus = document.getElementById('beamMomentStatus').textContent.includes('Safe') ? 'Safe' : 'Warning';
                document.getElementById('flow-beam-status').textContent = beamStatus;
                document.getElementById('flow-beam-status').className = beamStatus === 'Safe' ? 'status-badge status-safe' : 'status-badge status-warning';
            }
            
            if (designData.column) {
                document.getElementById('flow-column-size').textContent = designData.column.width + '√ó' + designData.column.depth;
                
                // Simplified column status check
                const columnStatus = document.getElementById('columnAxialStatus').textContent.includes('Safe') ? 'Safe' : 'Warning';
                document.getElementById('flow-column-status').textContent = columnStatus;
                document.getElementById('flow-column-status').className = columnStatus === 'Safe' ? 'status-badge status-safe' : 'status-badge status-warning';
            }
            
            if (designData.footing) {
                document.getElementById('flow-footing-size').textContent = designData.footing.length + '√ó' + designData.footing.width;
                
                // Simplified footing status check
                const footingStatus = document.getElementById('footingPressureStatus').textContent.includes('Safe') ? 'Safe' : 'Warning';
                document.getElementById('flow-footing-status').textContent = footingStatus;
                document.getElementById('flow-footing-status').className = footingStatus === 'Safe' ? 'status-badge status-safe' : 'status-badge status-warning';
            }
        }
        
        // Helper function to update status indicators
        function updateStatus(elementId, value, limit, reverse = false) {
            const element = document.getElementById(elementId);
            const ratio = value / limit;
            
            if ((!reverse && value <= limit) || (reverse && value >= limit)) {
                element.innerHTML = '<span class="status-badge status-safe">Safe</span>';
            } else if (ratio < 1.1 || (reverse && ratio > 0.9)) {
                element.innerHTML = '<span class="status-badge status-warning">Warning</span>';
            } else {
                element.innerHTML = '<span class="status-badge status-danger">Fail</span>';
            }
        }
        
        // Size adjustment functions
        function adjustSlabThickness(change) {
            const input = document.getElementById('slabThickness');
            input.value = parseInt(input.value) + change;
            updateSlabDesign();
        }
        
        function adjustBeamWidth(change) {
            const input = document.getElementById('beamWidth');
            input.value = parseInt(input.value) + change;
            updateBeamDesign();
        }
        
        function adjustBeamDepth(change) {
            const input = document.getElementById('beamDepth');
            input.value = parseInt(input.value) + change;
            updateBeamDesign();
        }
        
        function adjustColumnWidth(change) {
            const input = document.getElementById('columnWidth');
            input.value = parseInt(input.value) + change;
            updateColumnDesign();
        }
        
        function adjustColumnDepth(change) {
            const input = document.getElementById('columnDepth');
            input.value = parseInt(input.value) + change;
            updateColumnDesign();
        }
        
        function adjustFootingLength(change) {
            const input = document.getElementById('footingLength');
            input.value = (parseFloat(input.value) + change).toFixed(1);
            updateFootingDesign();
        }
        
        function adjustFootingWidth(change) {
            const input = document.getElementById('footingWidth');
            input.value = (parseFloat(input.value) + change).toFixed(1);
            updateFootingDesign();
        }
        
        function adjustFootingThickness(change) {
            const input = document.getElementById('footingThickness');
            input.value = parseInt(input.value) + change;
            updateFootingDesign();
        }
        
        // Optimization functions
        function optimizeSlab() {
            // Simple optimization - increase thickness if deflection fails
            if (document.getElementById('slabDeflectionStatus').textContent.includes('Fail') || 
                document.getElementById('slabDeflectionStatus').textContent.includes('Warning')) {
                adjustSlabThickness(10);
            }
        }
        
        function optimizeBeam() {
            // Simple optimization - increase depth if moment fails
            if (document.getElementById('beamMomentStatus').textContent.includes('Fail') || 
                document.getElementById('beamMomentStatus').textContent.includes('Warning')) {
                adjustBeamDepth(25);
            }
        }
        
        function optimizeColumn() {
            // Simple optimization - increase size if axial fails
            if (document.getElementById('columnAxialStatus').textContent.includes('Fail') || 
                document.getElementById('columnAxialStatus').textContent.includes('Warning')) {
                adjustColumnWidth(25);
                adjustColumnDepth(25);
            }
        }
        
        function optimizeFooting() {
            // Simple optimization - increase size if pressure fails
            if (document.getElementById('footingPressureStatus').textContent.includes('Fail') || 
                document.getElementById('footingPressureStatus').textContent.includes('Warning')) {
                adjustFootingLength(0.1);
                adjustFootingWidth(0.1);
            }
        }
        
        // Calculation helper functions
        function calculatePt(mu, b, d, fck, fy) {
            // Simplified pt calculation
            const muBd2 = mu / (b * d * d);
            let pt = 0;
            
            if (fck == 20) {
                if (muBd2 < 0.138) pt = 0.12;
                else if (muBd2 < 0.42) pt = 0.2;
                else if (muBd2 < 0.72) pt = 0.4;
                else if (muBd2 < 1.02) pt = 0.6;
                else pt = 0.8;
            } else if (fck == 25) {
                if (muBd2 < 0.138) pt = 0.12;
                else if (muBd2 < 0.42) pt = 0.2;
                else if (muBd2 < 0.72) pt = 0.4;
                else if (muBd2 < 1.02) pt = 0.6;
                else pt = 0.8;
            } else if (fck == 30) {
                if (muBd2 < 0.138) pt = 0.12;
                else if (muBd2 < 0.42) pt = 0.2;
                else if (muBd2 < 0.72) pt = 0.4;
                else if (muBd2 < 1.02) pt = 0.6;
                else pt = 0.8;
            }
            
            return pt;
        }
        
        function calculateMomentCapacity(pt, b, d, fck, fy) {
            // Simplified moment capacity calculation
            const ast = (pt/100) * b * d;
            const xu = (0.87 * fy * ast) / (0.36 * fck * b);
            const mur = 0.36 * fck * b * xu * (d - 0.42 * xu) / 1e6;
            return mur;
        }
        
        function calculateShearCapacity(b, d, fck, pt) {
            // Simplified shear capacity calculation
            const tc = 0.62; // For M25 and pt=1.0%
            const vuc = tc * b * d / 1000; // kN
            const vus = 0.87 * 415 * (2 * 50.3) * d / (150 * 1000); // 2-legged 8mm @150mm
            return vuc + vus;
        }
        
        function calculateAxialCapacity(b, D, fck, pt) {
            // Simplified axial capacity calculation
            const ag = b * D;
            const asc = (pt/100) * ag;
            const ac = ag - asc;
            const pu = (0.4 * fck * ac + 0.67 * 415 * asc) / 1000;
            return pu;
        }
        
        function calculateMomentCapacityColumn(b, D, fck, fy, pt) {
            // Simplified moment capacity for column
            return 0.1 * fck * b * D * D / 1e6;
        }
        
        function calculatePunchingCapacity(colWidth, colDepth, effDepth, fck) {
            // Simplified punching shear capacity
            const perimeter = 2 * (colWidth + colDepth + 2 * effDepth);
            const shearStrength = 0.25 * Math.sqrt(fck);
            return perimeter * effDepth * shearStrength / 1000; // kN
        }
        
        function calculateReinforcement(mu, b, d, fck, fy) {
            // Simplified reinforcement calculation
            const pt = calculatePt(mu, b, d, fck, fy);
            const ast = Math.ceil((pt/100) * b * d);
            
            // Choose practical reinforcement
            if (ast < 300) return '10mm @ 150mm c/c';
            else if (ast < 400) return '10mm @ 125mm c/c';
            else if (ast < 500) return '12mm @ 150mm c/c';
            else if (ast < 600) return '12mm @ 125mm c/c';
            else return '12mm @ 100mm c/c';
        }
        
        function calculateBeamReinforcement(mu, b, d, fck, fy) {
            // Simplified beam reinforcement calculation
            const pt = calculatePt(mu, b, d, fck, fy);
            const ast = Math.ceil((pt/100) * b * d);
            
            // Choose practical reinforcement
            const barSize = ast < 1000 ? 16 : 20;
            const numBars = Math.ceil(ast / (Math.PI * barSize * barSize / 4));
            
            return numBars + '-' + barSize + 'mm dia';
        }
        
        function calculateBeamStirrups(vu, b, d, fck, pt) {
            // Simplified stirrup calculation
            return '8mm @ 150mm c/c';
        }
        
        function calculateColumnReinforcement(b, D, pu, mux, muy, fck, fy) {
            // Simplified column reinforcement
            const ast = Math.max(0.8 * b * D / 100, 4 * Math.PI * 16 * 16 / 4); // 0.8% min
            const numBars = Math.ceil(ast / (Math.PI * 16 * 16 / 4));
            
            return numBars + '-16mm dia';
        }
        
        function calculateColumnTies(b, D, fy) {
            // Simplified tie calculation
            const spacing = Math.min(16 * 16, 300, b, D); // 16mm bars
            return '8mm @ ' + spacing + 'mm c/c';
        }
        
        function generateReport() {
            // Set report date
            document.getElementById('reportDate').textContent = new Date().toLocaleDateString();
            
            // Set seismic zone
            const seismicZone = document.getElementById('seismicZone').options[document.getElementById('seismicZone').selectedIndex].text;
            document.getElementById('reportSeismicZone').textContent = seismicZone;
            
            // Generate summary
            let summaryHTML = `
                <h3>Structural Elements Summary</h3>
                <table>
                    <tr>
                        <th>Element</th>
                        <th>Size</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>Slab</td>
                        <td>${designData.slab.thickness}mm thick</td>
                        <td>${document.getElementById('slabDeflectionStatus').textContent.includes('Safe') ? '‚úîÔ∏è Safe' : '‚ö†Ô∏è Check'}</td>
                    </tr>
                    <tr>
                        <td>Beam</td>
                        <td>${designData.beam.width}√ó${designData.beam.depth}mm</td>
                        <td>${document.getElementById('beamMomentStatus').textContent.includes('Safe') ? '‚úîÔ∏è Safe' : '‚ö†Ô∏è Check'}</td>
                    </tr>
                    <tr>
                        <td>Column</td>
                        <td>${designData.column.width}√ó${designData.column.depth}mm</td>
                        <td>${document.getElementById('columnAxialStatus').textContent.includes('Safe') ? '‚úîÔ∏è Safe' : '‚ö†Ô∏è Check'}</td>
                    </tr>
                    <tr>
                        <td>Footing</td>
                        <td>${designData.footing.length}√ó${designData.footing.width}m</td>
                        <td>${document.getElementById('footingPressureStatus').textContent.includes('Safe') ? '‚úîÔ∏è Safe' : '‚ö†Ô∏è Check'}</td>
                    </tr>
                </table>
            `;
            document.getElementById('reportSummary').innerHTML = summaryHTML;
            
            // Generate detailed calculations
            let calculationsHTML = `
                <h3>Load Path Summary</h3>
                <p><strong>Slab ‚Üí Beams ‚Üí Columns ‚Üí Footing ‚Üí Soil</strong></p>
                <p>Total vertical load: ${(designData.footing ? (designData.footing.length * designData.footing.width * designData.loading.soilCapacity).toFixed(2) : 'N/A'} kN</p>
                
                <h3>Material Properties</h3>
                <p>Concrete: M${designData.materials.fck} | Steel: Fe${designData.materials.fy}</p>
                
                <h3>Design Details</h3>
                <h4>Slab</h4>
                <p>Thickness: ${designData.slab.thickness}mm | Reinforcement: ${document.getElementById('slabReinforcementX').textContent} & ${document.getElementById('slabReinforcementY').textContent}</p>
                
                <h4>Beam</h4>
                <p>Size: ${designData.beam.width}√ó${designData.beam.depth}mm | Reinforcement: ${document.getElementById('beamMainReinforcement').textContent} with ${document.getElementById('beamStirrups').textContent}</p>
                
                <h4>Column</h4>
                <p>Size: ${designData.column.width}√ó${designData.column.depth}mm | Reinforcement: ${document.getElementById('columnMainReinforcement').textContent} with ${document.getElementById('columnTies').textContent}</p>
                
                <h4>Footing</h4>
                <p>Size: ${designData.footing.length}√ó${designData.footing.width}m | Reinforcement: ${document.getElementById('footingBottomReinforcement').textContent} (bottom) and ${document.getElementById('footingTopReinforcement').textContent} (top)</p>
            `;
            document.getElementById('reportCalculations').innerHTML = calculationsHTML;
            
            // Show print dialog
            window.print();
        }
        
        // Tab functionality
        function openTab(evt, tabName) {
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }
            
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
        
        // Initialize all designs on page load
        window.onload = function() {
            initializeDesigns();
        };
    </script>
</body>
</html>
